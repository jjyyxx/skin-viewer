!function(e){var t={};function n(o){if(t[o])return t[o].exports;var a=t[o]={i:o,l:!1,exports:{}};return e[o].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(o,a,function(t){return e[t]}.bind(null,a));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){const o=n(1);async function a(e,t=!1){const n=new o.Scene,a=new o.PerspectiveCamera(75,window.innerWidth/window.innerHeight,.1,1e3);a.position.z=50;const r=new o.WebGLRenderer({antialias:!0});r.setSize(window.innerWidth,window.innerHeight);const s=new o.OrbitControls(a,r.domElement);s.target.set(0,-16,0),s.enableDamping=!0,s.dampingFactor=.25,s.screenSpacePanning=!1,s.minDistance=20,s.maxDistance=500;const u=await function(e,t=!1){const n=[i(e,0,0,8),i(e,16,16,12,8,4),i(e,40,16,12,t?3:4,4),i(e,0,16,12,4),i(e,32,0,8),i(e,32,48,12,t?3:4,4),i(e,16,48,12,4),i(e,16,32,12,8,4),i(e,40,32,12,4),i(e,0,32,12,4),i(e,48,48,12,4),i(e,0,48,12,4)];return Promise.all(n).then(e=>({head:e[0],body:e[1],rightArm:e[2],rightLeg:e[3],helmet:e[4],leftArm:e[5],leftLeg:e[6],body2:e[7],rightArm2:e[8],rightLeg2:e[9],leftArm2:e[10],leftLeg2:e[11]}))}(e,t),m=new o.BoxGeometry(8,8,8),l=new o.BoxGeometry(8,12,4),p=new o.BoxGeometry(4,12,4),d=new o.BoxGeometry(t?3:4,12,4),h=new o.Mesh(m,c(u.head));h.position.set(0,0,0);const E=new o.Mesh(l,c(u.body));E.position.set(0,-10,0);const b=new o.Mesh(d,c(u.leftArm));b.position.set(t?5.5:6,-10,0);const f=new o.Mesh(p,c(u.leftLeg));f.position.set(2,-22,0);const g=new o.Mesh(d,c(u.rightArm));g.position.set(t?-5.5:-6,-10,0);const y=new o.Mesh(p,c(u.rightLeg));y.position.set(-2,-22,0);const v=new o.Object3D;v.add(h,E,b,f,g,y),n.add(v),document.body.appendChild(r.domElement),function e(){requestAnimationFrame(e),s.update(),r.render(n,a)}()}function i(e,t,n,o,a,i,c=!0){void 0===a&&(a=o),void 0===i&&(i=a);const s={imageOrientation:c?"flipY":"none"},u=[createImageBitmap(e,t+i,n,a,i),createImageBitmap(e,t+i+a,n,a,i,s),createImageBitmap(e,t,n+i,i,o,s),createImageBitmap(e,t+i,n+i,a,o,s),createImageBitmap(e,t+i+a,n+i,i,o,s),createImageBitmap(e,t+i+a+i,n+i,a,o,s)];return Promise.all(u).then(async e=>({top:await r(e[0]),buttom:await r(e[1]),right:e[2],front:e[3],left:e[4],back:e[5]}))}async function r(e){const t=document.createElement("canvas");t.width=e.width,t.height=e.height;const n=t.getContext("2d");return n.scale(1,-1),n.drawImage(e,0,-e.height),createImageBitmap(t)}function c(e){return[e.left,e.right,e.top,e.buttom,e.front,e.back].map((e,t)=>{const n=new o.Texture(e);return n.magFilter=o.NearestFilter,n.minFilter=o.NearestFilter,n.needsUpdate=!0,new o.MeshBasicMaterial({map:n})})}window.THREE=o,n(2);const s=document.getElementById("picture"),u=document.getElementById("slim");document.getElementById("load").addEventListener("click",()=>{if(0===s.files.length)return;const e=document.getElementsByTagName("canvas");for(const t of e)t.remove();const t=s.files[0];createImageBitmap(t,{resizeQuality:"pixelated"}).then(e=>a(e,u.checked))})},function(e,t){e.exports=THREE},function(e,t){THREE.OrbitControls=function(e,t){var n,o,a,i,r;this.object=e,this.domElement=void 0!==t?t:document,this.enabled=!0,this.target=new THREE.Vector3,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.25,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!1,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.enableKeys=!0,this.keys={LEFT:37,UP:38,RIGHT:39,BOTTOM:40},this.mouseButtons={LEFT:THREE.MOUSE.LEFT,MIDDLE:THREE.MOUSE.MIDDLE,RIGHT:THREE.MOUSE.RIGHT},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=function(){return h.phi},this.getAzimuthalAngle=function(){return h.theta},this.saveState=function(){c.target0.copy(c.target),c.position0.copy(c.object.position),c.zoom0=c.object.zoom},this.reset=function(){c.target.copy(c.target0),c.object.position.copy(c.position0),c.object.zoom=c.zoom0,c.object.updateProjectionMatrix(),c.dispatchEvent(s),c.update(),p=l.NONE},this.update=(n=new THREE.Vector3,o=(new THREE.Quaternion).setFromUnitVectors(e.up,new THREE.Vector3(0,1,0)),a=o.clone().inverse(),i=new THREE.Vector3,r=new THREE.Quaternion,function(){var e=c.object.position;return n.copy(e).sub(c.target),n.applyQuaternion(o),h.setFromVector3(n),c.autoRotate&&p===l.NONE&&L(2*Math.PI/60/60*c.autoRotateSpeed),h.theta+=E.theta,h.phi+=E.phi,h.theta=Math.max(c.minAzimuthAngle,Math.min(c.maxAzimuthAngle,h.theta)),h.phi=Math.max(c.minPolarAngle,Math.min(c.maxPolarAngle,h.phi)),h.makeSafe(),h.radius*=b,h.radius=Math.max(c.minDistance,Math.min(c.maxDistance,h.radius)),c.target.add(f),n.setFromSpherical(h),n.applyQuaternion(a),e.copy(c.target).add(n),c.object.lookAt(c.target),!0===c.enableDamping?(E.theta*=1-c.dampingFactor,E.phi*=1-c.dampingFactor,f.multiplyScalar(1-c.dampingFactor)):(E.set(0,0,0),f.set(0,0,0)),b=1,!!(g||i.distanceToSquared(c.object.position)>d||8*(1-r.dot(c.object.quaternion))>d)&&(c.dispatchEvent(s),i.copy(c.object.position),r.copy(c.object.quaternion),g=!1,!0)}),this.dispose=function(){c.domElement.removeEventListener("contextmenu",U,!1),c.domElement.removeEventListener("mousedown",V,!1),c.domElement.removeEventListener("wheel",z,!1),c.domElement.removeEventListener("touchstart",Z,!1),c.domElement.removeEventListener("touchend",_,!1),c.domElement.removeEventListener("touchmove",X,!1),document.removeEventListener("mousemove",Y,!1),document.removeEventListener("mouseup",F,!1),window.removeEventListener("keydown",B,!1)};var c=this,s={type:"change"},u={type:"start"},m={type:"end"},l={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_DOLLY_PAN:4},p=l.NONE,d=1e-6,h=new THREE.Spherical,E=new THREE.Spherical,b=1,f=new THREE.Vector3,g=!1,y=new THREE.Vector2,v=new THREE.Vector2,w=new THREE.Vector2,T=new THREE.Vector2,P=new THREE.Vector2,O=new THREE.Vector2,R=new THREE.Vector2,j=new THREE.Vector2,H=new THREE.Vector2;function M(){return Math.pow(.95,c.zoomSpeed)}function L(e){E.theta-=e}function x(e){E.phi-=e}var S,A=(S=new THREE.Vector3,function(e,t){S.setFromMatrixColumn(t,0),S.multiplyScalar(-e),f.add(S)}),D=function(){var e=new THREE.Vector3;return function(t,n){!0===c.screenSpacePanning?e.setFromMatrixColumn(n,1):(e.setFromMatrixColumn(n,0),e.crossVectors(c.object.up,e)),e.multiplyScalar(t),f.add(e)}}(),N=function(){var e=new THREE.Vector3;return function(t,n){var o=c.domElement===document?c.domElement.body:c.domElement;if(c.object.isPerspectiveCamera){var a=c.object.position;e.copy(a).sub(c.target);var i=e.length();i*=Math.tan(c.object.fov/2*Math.PI/180),A(2*t*i/o.clientHeight,c.object.matrix),D(2*n*i/o.clientHeight,c.object.matrix)}else c.object.isOrthographicCamera?(A(t*(c.object.right-c.object.left)/c.object.zoom/o.clientWidth,c.object.matrix),D(n*(c.object.top-c.object.bottom)/c.object.zoom/o.clientHeight,c.object.matrix)):c.enablePan=!1}}();function k(e){c.object.isPerspectiveCamera?b/=e:c.object.isOrthographicCamera?(c.object.zoom=Math.max(c.minZoom,Math.min(c.maxZoom,c.object.zoom*e)),c.object.updateProjectionMatrix(),g=!0):c.enableZoom=!1}function I(e){c.object.isPerspectiveCamera?b*=e:c.object.isOrthographicCamera?(c.object.zoom=Math.max(c.minZoom,Math.min(c.maxZoom,c.object.zoom/e)),c.object.updateProjectionMatrix(),g=!0):c.enableZoom=!1}function C(e){T.set(e.clientX,e.clientY)}function V(e){if(!1!==c.enabled){switch(e.preventDefault(),e.button){case c.mouseButtons.LEFT:if(e.ctrlKey||e.metaKey){if(!1===c.enablePan)return;C(e),p=l.PAN}else{if(!1===c.enableRotate)return;!function(e){y.set(e.clientX,e.clientY)}(e),p=l.ROTATE}break;case c.mouseButtons.MIDDLE:if(!1===c.enableZoom)return;!function(e){R.set(e.clientX,e.clientY)}(e),p=l.DOLLY;break;case c.mouseButtons.RIGHT:if(!1===c.enablePan)return;C(e),p=l.PAN}p!==l.NONE&&(document.addEventListener("mousemove",Y,!1),document.addEventListener("mouseup",F,!1),c.dispatchEvent(u))}}function Y(e){if(!1!==c.enabled)switch(e.preventDefault(),p){case l.ROTATE:if(!1===c.enableRotate)return;!function(e){v.set(e.clientX,e.clientY),w.subVectors(v,y).multiplyScalar(c.rotateSpeed);var t=c.domElement===document?c.domElement.body:c.domElement;L(2*Math.PI*w.x/t.clientHeight),x(2*Math.PI*w.y/t.clientHeight),y.copy(v),c.update()}(e);break;case l.DOLLY:if(!1===c.enableZoom)return;!function(e){j.set(e.clientX,e.clientY),H.subVectors(j,R),H.y>0?k(M()):H.y<0&&I(M()),R.copy(j),c.update()}(e);break;case l.PAN:if(!1===c.enablePan)return;!function(e){P.set(e.clientX,e.clientY),O.subVectors(P,T).multiplyScalar(c.panSpeed),N(O.x,O.y),T.copy(P),c.update()}(e)}}function F(e){!1!==c.enabled&&(document.removeEventListener("mousemove",Y,!1),document.removeEventListener("mouseup",F,!1),c.dispatchEvent(m),p=l.NONE)}function z(e){!1===c.enabled||!1===c.enableZoom||p!==l.NONE&&p!==l.ROTATE||(e.preventDefault(),e.stopPropagation(),c.dispatchEvent(u),function(e){e.deltaY<0?I(M()):e.deltaY>0&&k(M()),c.update()}(e),c.dispatchEvent(m))}function B(e){!1!==c.enabled&&!1!==c.enableKeys&&!1!==c.enablePan&&function(e){switch(e.keyCode){case c.keys.UP:N(0,c.keyPanSpeed),c.update();break;case c.keys.BOTTOM:N(0,-c.keyPanSpeed),c.update();break;case c.keys.LEFT:N(c.keyPanSpeed,0),c.update();break;case c.keys.RIGHT:N(-c.keyPanSpeed,0),c.update()}}(e)}function Z(e){if(!1!==c.enabled){switch(e.preventDefault(),e.touches.length){case 1:if(!1===c.enableRotate)return;!function(e){y.set(e.touches[0].pageX,e.touches[0].pageY)}(e),p=l.TOUCH_ROTATE;break;case 2:if(!1===c.enableZoom&&!1===c.enablePan)return;!function(e){if(c.enableZoom){var t=e.touches[0].pageX-e.touches[1].pageX,n=e.touches[0].pageY-e.touches[1].pageY,o=Math.sqrt(t*t+n*n);R.set(0,o)}if(c.enablePan){var a=.5*(e.touches[0].pageX+e.touches[1].pageX),i=.5*(e.touches[0].pageY+e.touches[1].pageY);T.set(a,i)}}(e),p=l.TOUCH_DOLLY_PAN;break;default:p=l.NONE}p!==l.NONE&&c.dispatchEvent(u)}}function X(e){if(!1!==c.enabled)switch(e.preventDefault(),e.stopPropagation(),e.touches.length){case 1:if(!1===c.enableRotate)return;if(p!==l.TOUCH_ROTATE)return;!function(e){v.set(e.touches[0].pageX,e.touches[0].pageY),w.subVectors(v,y).multiplyScalar(c.rotateSpeed);var t=c.domElement===document?c.domElement.body:c.domElement;L(2*Math.PI*w.x/t.clientHeight),x(2*Math.PI*w.y/t.clientHeight),y.copy(v),c.update()}(e);break;case 2:if(!1===c.enableZoom&&!1===c.enablePan)return;if(p!==l.TOUCH_DOLLY_PAN)return;!function(e){if(c.enableZoom){var t=e.touches[0].pageX-e.touches[1].pageX,n=e.touches[0].pageY-e.touches[1].pageY,o=Math.sqrt(t*t+n*n);j.set(0,o),H.set(0,Math.pow(j.y/R.y,c.zoomSpeed)),k(H.y),R.copy(j)}if(c.enablePan){var a=.5*(e.touches[0].pageX+e.touches[1].pageX),i=.5*(e.touches[0].pageY+e.touches[1].pageY);P.set(a,i),O.subVectors(P,T).multiplyScalar(c.panSpeed),N(O.x,O.y),T.copy(P)}c.update()}(e);break;default:p=l.NONE}}function _(e){!1!==c.enabled&&(c.dispatchEvent(m),p=l.NONE)}function U(e){!1!==c.enabled&&e.preventDefault()}c.domElement.addEventListener("contextmenu",U,!1),c.domElement.addEventListener("mousedown",V,!1),c.domElement.addEventListener("wheel",z,!1),c.domElement.addEventListener("touchstart",Z,!1),c.domElement.addEventListener("touchend",_,!1),c.domElement.addEventListener("touchmove",X,!1),window.addEventListener("keydown",B,!1),this.update()},THREE.OrbitControls.prototype=Object.create(THREE.EventDispatcher.prototype),THREE.OrbitControls.prototype.constructor=THREE.OrbitControls,Object.defineProperties(THREE.OrbitControls.prototype,{center:{get:function(){return this.target}},noZoom:{get:function(){return!this.enableZoom},set:function(e){this.enableZoom=!e}},noRotate:{get:function(){return!this.enableRotate},set:function(e){this.enableRotate=!e}},noPan:{get:function(){return!this.enablePan},set:function(e){this.enablePan=!e}},noKeys:{get:function(){return!this.enableKeys},set:function(e){this.enableKeys=!e}},staticMoving:{get:function(){return!this.enableDamping},set:function(e){this.enableDamping=!e}},dynamicDampingFactor:{get:function(){return this.dampingFactor},set:function(e){this.dampingFactor=e}}})}]);